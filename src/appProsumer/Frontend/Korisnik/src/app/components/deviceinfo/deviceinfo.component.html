<ngx-spinner
  bdColor="rgba(0, 0, 0, 0.95)"
  size="small"
  color="#fff"
  type="ball-clip-rotate"
  [showSpinner]="true"
  [fullScreen]="true"
  [zIndex]="9999"
  ><p style="font-size: 25px; color: white">Loading Data...</p></ngx-spinner
>

<section class="mx-0 my-0 px-0 py-0" style="background-color: #f4f5f7">
  <div class="container-fluid h-100 px-0 py-0 mx-0 my-0">
    <div
      class="row d-flex justify-content-center align-items-start align-items-md-center mx-0 my-0 px-0 py-0 h-100"
    >
      <div class="col px-0 mx-0 my-0 py-0 h-100">
        <div class="card h-md-100" style="border-radius: 0">
          <div
            class="row g-0 h-md-100 justify-content-center align-items-start align-items-md-center px-0 py-0"
          >
            <div
              class="col-md-6 justify-content-center align-items-center h-md-100 order-1 order-md-1 mx-0 my-0 px-0 py-0"
            >
              <app-gaugeDevice></app-gaugeDevice>
              <div class="card-body p-1 p-md-4">
                <br />
                <h6 class="section">Device Information</h6>
                <hr class="mt-0 mb-4" />
                <div class="row pt-1 mx-0 my-0">
                  <div class="col-6 mb-1">
                    <h6 style="color: #08376b">{{ IpAddress }}</h6>
                    <p class="text-muted">IP Address</p>
                  </div>
                  <div class="col-6 mb-1">
                    <h6 style="color: #08376b">{{ TypeName }}</h6>
                    <p class="text-muted">Device Type</p>
                  </div>
                </div>
                <hr class="mt-0 mb-4" />
                <div class="row pt-1 mx-0 my-0">
                  <div class="col-6 mb-1">
                    <h6 style="color: #08376b">{{ ModelName }}</h6>
                    <p class="text-muted">Device Model</p>
                  </div>
                  <div class="col-6 mb-1">
                    <h6 style="color: #08376b">{{ Name }}</h6>
                    <p class="text-muted">Device Name</p>
                  </div>
                </div>
                <hr class="mt-0 mb-4" />

                <div class="row pt-1 mx-0 my-0">
                  <div class="col-6 mb-1">
                    <h6 style="color: #08376b">{{ MaxUsage }}kWh</h6>
                    <p class="text-muted">Maximum hourly consumption</p>
                  </div>
                  <div class="col-6 mb-1">
                    <h6 style="color: #08376b">{{ AvgUsage }}kWh</h6>
                    <p class="text-muted">Average hourly consumption</p>
                  </div>
                </div>
                <div class="row pt-1 mx-0 my-0">
                  <mat-slide-toggle [(ngModel)]="DsoView"
                    >Allow DSO to view</mat-slide-toggle
                  >
                  <mat-slide-toggle [(ngModel)]="DsoControl"
                    >Allow DSO to control</mat-slide-toggle
                  >
                  <br />
                </div>
                <div></div>
                <div
                  class="d-flex justify-content-start"
                  style="margin-top: 5%"
                >
                  <button
                    class="btn btn-primary"
                    (click)="edit()"
                    data-bs-toggle="modal"
                    data-bs-target="#staticBackdrop"
                  >
                    <i
                      class="fa fa-edit fa-lg"
                      data-bs-toggle="modal"
                      data-bs-target="#staticBackdrop"
                      (click)="edit()"
                    ></i
                    >&nbsp;Edit
                  </button>
                  &nbsp;&nbsp;
                  <button class="btn btn-primary" (click)="delete(idDev)">
                    <i class="fa fa-trash fa-lg"></i>&nbsp;Delete
                  </button>
                </div>
              </div>
            </div>

            <div
              class="col-md-6 gradient-custom d-flex flex-column align-items-center h-md-100 order-2 order-md-2"
            >
              <app-realizationDevice></app-realizationDevice>
              <app-predictionDevice></app-predictionDevice>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<app-add-device></app-add-device>
<div
  class="modal fade"
  id="staticBackdrop"
  data-bs-backdrop="static"
  data-bs-keyboard="false"
  tabindex="-1"
  aria-labelledby="staticBackdropLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header text-white" style="background-color: #466471">
        <h5 class="modal-title" id="staticBackdropLabel">{{ modalTitle }}</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
          (click)="close()"
        ></button>
      </div>
      <div class="modal-body">
        <app-edit-device-form
          [deviceData]="deviceData"
          *ngIf="showEdit == true"
          #editData
        ></app-edit-device-form>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-secondary"
          data-bs-dismiss="modal"
          (click)="close()"
        >
          Close
        </button>
        <button type="button" class="btn btn-primary" (click)="confirm()">
          Confirm
        </button>
      </div>
    </div>
  </div>
</div>
